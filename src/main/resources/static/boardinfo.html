<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <meta charset="UTF-8">
    <title>게시글 작성</title>
</head>

<body>

<div id="login-form">
    <div id="board_id">${board_id}</div>
    <div id="login-title" align="center">게시글 보기</div>
    <div class="text-center">
        <h1 class="h4 text-gray-900 mb-4" id="titleArea"></h1>
        <div align="left">
            <div style="white-space : pre-wrap;height: 100%" id="authorArea"></div>
            <div style="white-space : pre-wrap;height: 100%" id="dateArea"></div>
        </div>
    </div>
    <form>
        <br>
        <div class="form-group">
            <li class="list-group-item">
                <div >
                    <div id="contentArea" style="white-space : pre-wrap;height: 100%"></div>
                </div>
            </li>
        </div>
    </form>
    <!--<form>
        <div class="login-id-label">제목</div>
        <input type="text" name="title" id="title" class="login-input-box" placeholder="제목을 입력하세요">

        <div class="login-id-label">내용</div>
        <textarea cols="50" rows="10" id="content" placeholder="내용을 입력하세요" class="textareaa"></textarea>

        <button class ="btn btn-primary pull-right" id="submitBoard">등록하기</button>
    </form>-->
</div>

<script>
    $(document).ready(function() {
        var board_id = $(this).parent().attr("board_id");
        $.ajax({
            type: "get",
            url: "/list/"+board_id,
            success: function(data) {
                console.log(data);
                $("#titleArea").text(data[title]);
                $("#authorArea").text(data[author]);
                $("#dateArea").text(FormatToUnixtime(data[date]));
                $("#contentArea").text(data[content]);
            },
        });

        /*$(document).on("click", ".view_btn", function() {
            var b_no = $(this).parent().attr("data-id");    //이거 글번호 읽기가 안된다 어케하지
            console.log(b_no);
            alert(b_no);
            $.ajax({
                type: "get",
                url: "/board?id="+b_no,
                contentType : "application/json; charset=UTF-8",
                dataType : "json",
                data: {
                    b_no: b_no
                },
                success: function(data) {
                    console.log(data);
                    $("#b_title").text(data['b_title']);
                    $("#b_review").text(data['b_ownernick'] + " - " +  FormatToUnixtime(data['b_regdate']));
                    $("#b_content").text(data['b_content']);
                    $('#view_modal').modal('show');
                },
                error: function(error) {
                    //alert("게시글 읽기 페이지 아직 안만듬" + error);
                }
            });
        });*/

        function FormatToUnixtime(unixtime) {
            var u = new Date(unixtime);
            console.log("u: " + u);
            return u.getUTCFullYear() +
                '-' + ('0' + (u.getMonth()+1)).slice(-2) +
                '-' + ('0' + u.getDate()).slice(-2) +
                ' ' + ('0' + u.getHours()).slice(-2) +
                ':' + ('0' + u.getMinutes()).slice(-2)
        };
    });
</script>

</body>
</html>